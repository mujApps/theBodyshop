<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruelty-Free & Beauty Checkout| The Body Shop</title>
    <link rel="shortcut icon" href="img\favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/64d8096832.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="payments.css">
</head>
<style>

</style>
<body >
    <div>
        <ul id="navul">
            <li id="li1"> <i class="fas fa-chevron-left"></i> Back to Shop</li>
            <li style="padding:0px;font-size:34px;text-align: center;">THE BODY SHOP®</li>
          </ul>
    </div>
    <div style="text-align:center"><h2>CHECKOUT</h2></div>
    <div id="cont1">
        <div id="fdiv">
           
            <p>PAYMENT METHOD:</p>
            <br>
              <input type="radio" id="cardDetails" value="cardDet" name="paySelector">
              <label for="cardDetails">Pay Using Credit Card/ Debit Card/ Net Banking (Ccavenuepay)</label><br>
            <div id="cardInp"></div>
            <br>
            <hr>
            <br>
              <input type="radio" id="cod" value="cod" name="paySelector">
              <label for="cod">Cash On Delivery</label><br>
            <div id="codDisp"></div>
            <br>
            <br>
            
        </div>
        
    </div>
    <div id="cont2">
        <div id="c2div1"><h3>Order Summery</h3></div>
        
        <div id="c2div2">Cart Subtotal:--------------------------------</div>
        <div id="c2div3"></div>
        
        <div id="c2div4">Shipping Charges:----------------------------₹.100<div>3 - 5 Working days- Standard Delivery</div></div>
        <div id="c2div5">Order Total (incl. GST):----------------------</div>
        <div id="c2div6"></div>
    </div>
    <div id="imgDisp">
            <img src="https://staticbodyshop.gumlet.io/pub/media/wysiwyg/checkout/secured.png" style="margin-left:500px;"/>
            <img src="https://staticbodyshop.gumlet.io/pub/media/wysiwyg/checkout/master-card.png"/>
            <img src ="https://staticbodyshop.gumlet.io/pub/media/wysiwyg/checkout/visa.png"/>
            <img src="https://staticbodyshop.gumlet.io/pub/media/wysiwyg/checkout/american-express.png"/>
    </div>
    <div id="infdiv">
        <div >
            <!-- 
            <img src="https://www.gccsl.in/website/images/ccavenue.png"/> -->
            <div> © 2021  THE BODY SHOP INTERNATIONAL LIMITED</div>
            <div><img src="https://staticbodyshop.gumlet.io/pub/media/wysiwyg/icons/payment_icons.png"/></div>
            <div>
                <p>® A REGISTERED TRADEMARK OF THE BODY SHOP INTERNATIONAL LIMITED™ A TRADEMARK OF THE BODY SHOP INTERNATIONAL LIMITED ALL RIGHTS RESERVED.</p>
                <p>REGISTERED OFFICE: WATERSMEAD, LITTLEHAMPTON, WEST SUSSEX, BN17 6LS, UNITED KINGDOM; REGISTERED IN ENGLAND NO. 1284170</p>
            </div>
        </div>
    </div>
    
</body>
</html>
<script>
    // total billing

    // var cart=JSON.parse(localStorage.getItem("cartItem"))||[];
    dispTotal();

    function dispTotal(){
        var total=0
        // var total=cart.reduce(function(a,c){
        //     return a+Number(c.price);
        // },0);

        

        document.querySelector("#c2div3").textContent="₹."+total;

        var subTotal=0;
        subTotal=100+total;

        document.querySelector("#c2div6").textContent="₹."+subTotal;
    }


    // back to shop

    document.querySelector("#li1").addEventListener("click",moveShop);
    
    function moveShop(){
        window.location.href=("index.html");
    }



    // card payment

    document.querySelector("#cardDetails").addEventListener("click", dispCard);

    var count1=0;
    var count2=0;

    function dispCard(){
        count1++;
        if(count1==1){
            document.querySelector("#codDisp").innerHTML="";
            var mdiv=document.createElement("div");
            mdiv.setAttribute("id","mdiv");

            var img=document.createElement("img");
            img.setAttribute("src","https://www.gccsl.in/website/images/ccavenue.png");
            img.setAttribute("id","img")

            var br4=document.createElement("br");

            var card=document.createElement("input");
            card.setAttribute("type", "number");
            card.setAttribute("id", "card");
            card.setAttribute("placeholder","Enter 16 Digit Card Number");

            var br1=document.createElement("br");

            var cvv= document.createElement("input");
            cvv.setAttribute("type", "number");
            cvv.setAttribute("id", "cvv");
            cvv.setAttribute("placeholder","CVV");

            var date=document.createElement("input");
            date.setAttribute("type", "month");
            date.setAttribute("id", "date");

            var br2=document.createElement("br");

            var name=document.createElement("input");
            name.setAttribute("placeholder", "Enter Name on Card");
            name.setAttribute("id","name");

            var br3=document.createElement("br");
            
            var btn=document.createElement("button");
            btn.setAttribute("id", "button");
            btn.textContent="pay";
            btn.addEventListener("click", function(){
                cardVer();
            });

            document.querySelector("#cardInp").append(img,br1,card,br2,cvv,date,br3,name,br4,btn);
            

            count2=0;
        }
    }


    function cardVer(){
        var card=document.querySelector("#card").value;
        var cvv=document.querySelector("#cvv").value;
        var date=document.querySelector("#date").value;
        date=date.split("-").map(Number);
        if(card.length==16 && cvv=="123"){
            document.querySelector("#cardInp").innerHTML="";
            var oinp=document.createElement("input");
            oinp.setAttribute("placeholder","Enter OTP");
            oinp.setAttribute("type","number");
            oinp.setAttribute("id", "oinp");
            var obtn=document.createElement("button");
            obtn.textContent="Submit";
            obtn.addEventListener("click",function(){
                otpSub();
            })

            document.querySelector("#cardInp").append(oinp,obtn);
        } else {
            document.querySelector("#card").value="";
            document.querySelector("#cvv").value="";
            document.querySelector("#date").value="";
            alert("Invalid Card Details");
        }
    }

    function otpSub(){
        var oinp=document.querySelector("#oinp").value;
        console.log(oinp);
        if(oinp=="0000"){
            alert("Order Sucessfully Placed");
            document.querySelector("#cont1").innerHTML="";
            document.querySelector("#cont1").innerHTML="";
            var h1=document.createElement("h1");
            h1.textContent="Thank You for Ordering from us.";

            document.querySelector("#cont1").append(h1);
        }
    }


    // cod
    document.querySelector("#cod").addEventListener("click", dispCod);

    

    function dispCod(){
        count2++;
        if(count2==1){
            document.querySelector("#cardInp").innerHTML="";
            var a=document.createElement("p");
            a.textContent="To confirm your Cash on delivery order, Click on the VERIFY button, a 6 digit code will be sent to your mobile number";
            var b=document.createElement("button");
            b.setAttribute("id","verify")
            b.textContent="Verify";
            b.addEventListener("click", function(){
                otpVer();
            });

            document.querySelector("#codDisp").append(a,b);
            count1=0;
        }
        
    }

    function otpVer(){
        
        var inp=document.createElement("input");
        inp.setAttribute("placeholder", "Enter OTP");
        inp.setAttribute("type", "number");
        var con=document.createElement("button");
        con.setAttribute("id", "codInp");
        con.textContent="Confirm";
        con.addEventListener("click",function(){
            otpCheck();
        });
        document.querySelector("#codDisp").innerHTML="";
        document.querySelector("#codDisp").append(inp,con);
    }

    function otpCheck(){
        var x=document.querySelector("#codDisp>input").value;
        if(x=="654321"){
            alert("Order Sucessfully Placed");
            document.querySelector("#cont1").innerHTML="";
            var h1=document.createElement("h1");
            h1.textContent="Thank You for Ordering from us";
            var h2=document.createElement("h2");
            h2.textContent="Order id = 009865412";

            var btn=document.createElement("button");
            btn.textContent="CONTINUE SHOPPING";
            btn.setAttribute("id", "continue");
            btn.addEventListener("click",function(){
                moveProd();
            });

            document.querySelector("#cont1").append(h1,h2,btn);

        } else {
            alert("Invalid OTP Code");
            document.querySelector("#codDisp>input").value='';
        }
    }

   
    function moveProd(){
        window.location.href="index.html";
    }

</script>